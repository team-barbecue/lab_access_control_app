.room-layout {
  flex: 2;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 2rem;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.room-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #333;
  margin-bottom: 1.5rem;
  text-align: center;
}

/* === ここから変更 === */

/* グリッド全体の再定義 */
.room-grid {
  display: grid;
  height: 70vh;
  gap: 1.2rem; /* 間隔を少し詰めて調整 */

  /* 列と行の比率をレイアウト図に準拠して再設定 */
  grid-template-columns: 1fr 1.2fr 1.2fr 1fr 50px;
  grid-template-rows: 1fr 1fr 1fr auto; /* 3つの主要行を均等に、最下段は自動調整 */

  grid-template-areas:
    "left-group top-center    top-center    sofa1 monitor"
    "left-group bottom-center bottom-center table monitor"
    "left-group bottom-center bottom-center sofa2 monitor"
    ".          .             .             door  monitor";
}

/* --- グループ内の配置を修正 --- */
.desk-group-left {
  grid-area: left-group;
  display: grid;
  grid-template-rows: repeat(3, 1fr); /* 内部で3行均等に分割 */
  gap: 1.2rem;
}

.desk-group-top-center {
  grid-area: top-center;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.2rem;
}

.desk-group-bottom-center {
  grid-area: bottom-center;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 1.2rem;
}

/* --- 各要素がコンテナ全体に広がるように調整 --- */
.desk, .static-item {
  width: 100%;
  height: 100%;
  min-height: 0; /* 最小高さをリセットして伸縮可能に */
}

/* --- 静的な家具 --- */
.static-item {
  background-color: #ffffff;
  border: 2px solid #6c757d;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  color: #343a40;
  font-weight: 600;
}

.sofa-1    { grid-area: sofa1; }
.table-1   { grid-area: table; }
.sofa-2    { grid-area: sofa2; }
.monitor-1 { 
  grid-area: monitor; 
  writing-mode: vertical-rl;
  padding: 1rem 0;
}
.door-1 { 
  grid-area: door;
}


/* --- 個々の机（基本スタイルは変更なし） --- */
.desk {
  border-radius: 15px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}
.desk:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}
.desk.available {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  color: white;
}
.desk.occupied {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
  color: white;
}
.desk-number {
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
}
.desk-user {
  font-size: 0.8rem;
  opacity: 0.9;
}

/* --- 凡例（変更なし） --- */
.legend {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-top: 2rem;
}
.legend-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  color: #666;
}
.legend-color {
  width: 20px;
  height: 20px;
  border-radius: 5px;
}
.legend-available {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}
.legend-occupied {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}